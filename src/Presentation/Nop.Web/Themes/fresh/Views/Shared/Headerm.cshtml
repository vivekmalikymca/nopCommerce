<style>
    .dropdown-content {
        background-color: #FFFFFF;
        margin: 0;
        display: none;
        min-width: 150px; /* Changed this to accomodate content width */
        max-width: auto !important;
        max-height: auto;
        margin-left: -1px; /* Add this to keep dropdown in line with edge of navbar */
        overflow: hidden; /* Changed this from overflow-y:auto; to overflow:hidden; */
        opacity: 0;
        position: absolute;
        white-space: nowrap;
        z-index: 1;
        will-change: width, height;
    }
    #search {
    display: none;
    margin-bottom: 0px;
    border-top: 1px solid #111;
    border-bottom: 1px solid #111;
    }
</style>

<div class="navbar-fixed">
    <nav>
       
        <div class="nav-wrapper light-blue">

            <div class="row">
                <div class="col s2">
                    <a href="#" data-activates="mobile-demo" class="button-collapse show-on-medium-and-down show-on-large"><i class="material-icons">menu</i></a>
                    <div class="brand-logo left hide-on-small-and-down">
                        @Html.Action("Logo", "Common")
                    </div>
                    
                </div>


                <div class="col s10">
                    <ul class="right">
                        <li>
                           
                            <a id="toggle-search" href="#!">
                                <i class="material-icons">search</i>
                            </a>
                        </li>
                        @*<li><a href="#!"><i class="material-icons">view_module</i></a></li>
            <li><a href="#!"><i class="material-icons">refresh</i></a></li>*@
                        <li><a href="@Url.RouteUrl("ShoppingCart")" ng-cloak><i class="material-icons left">shopping_cart</i>({{shopping_cart}})</a></li>
                        <li>
                            <a class='dropdown-button' href='#!' data-beloworigin="true" data-activates='drop_cart'><i class="material-icons">more_vert</i></a>
                        </li>
                    </ul>
                </div>

            </div>
                <ul class="side-nav" id="mobile-demo">
                    <li><a href="#!">Sass</a></li>
                    <li><a href="#!">Components</a></li>
                    <li><a href="#!">Javascript</a></li>
                    <li><a href="#!">Mobile</a></li>
                </ul>
</div>
    </nav>
</div>
<div id="search" class="">
    <nav>
        <div class="nav-wrapper grey">
            <form>
                <div class="input-field" id="search-navbar">
                    @*@Html.Action("SearchBox", "Catalog")*@
                    <input type="search" class="search-box-text" id="small-searchterms1" ng-model="searchterms.value" autocomplete="off" name="q" />
                    <label for="small-searchterms1"><i class="material-icons">search</i></label>
                    <i class="material-icons">close</i>
                </div>
            </form>
        </div>
    </nav>
</div>


@*@Html.Action("AdminHeaderLinks", "Common")*@



@*<nav>
        <div class="nav-wrapper light-blue">
            <form>
                <div class="input-field">
                    <input id="search" type="search" required>
                    <label for="search"><i class="material-icons">search</i></label>
                    <i class="material-icons">close</i>
                </div>
            </form>
        </div>
    </nav>*@




<div class="header row hide">
    @Html.Widget("headerm")
    <div class="header-upper col s12">
        <div class="header-selectors-wrapper">
            @Html.Action("TaxTypeSelector", "Common")
            @Html.Action("CurrencySelector", "Common")
            @Html.Action("LanguageSelector", "Common")
            @Html.Widget("header_selectors")
        </div>
        <div class="header-links-wrapper">
            @Html.Action("HeaderLinks", "Common")
            @Html.Action("FlyoutShoppingCart", "ShoppingCart")
        </div>
    </div>
    <div class="header-lower col s12">
        <div class="header-logo">
            @Html.Action("Logo", "Common")
        </div>
        <div class="search-box store-search-box">
            @Html.Action("SearchBox", "Catalog")
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('.button-collapse').sideNav({
            menuWidth: 240, // Default is 240
            edge: 'left', // Choose the horizontal origin
            closeOnClick: true, // Closes side-nav on <a> clicks, useful for Angular/Meteor
            draggable: true // Choose whether you can drag to open on touch screens
        }
	   );
        $("#toggleheader").click(function () {
            $(".header").toggle("slow");
        });
        $('.dropdown-button').dropdown({
            inDuration: 300,
            outDuration: 225,
            hover: true, // Activate on hover
            belowOrigin: true, // Displays dropdown below the button
            alignment: 'right' // Displays dropdown with edge aligned to the left of button

        });
        //navvar pop search
        $('a#toggle-search').click(function () {
            var search = $('div#search');

            search.is(":visible") ? search.slideUp() : search.slideDown(function () {
                search.find('input').focus();
                search.addClass('navbar-fixed');

                //search.find('.search-box-button').hide();
            });

            return false;
        });
        $('div#search').keypress(function (e) {
            var key = e.which;
            if (key == 13)  // the enter key code
            {
                $('.search-box-button').click();
                return false;
            }
        });
        var lastScrollTop = 0;
        $(window).scroll(function (event) {
            var st = $(this).scrollTop();
            var search = $('div#search');
            if (st > lastScrollTop) {
                // downscroll code
                search.is(":visible") ? search.slideUp() : function () { }
            } else {
                
                // upscroll code
            }
            lastScrollTop = st;
        });
       

    });
</script>